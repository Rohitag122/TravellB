<div class="package-list">
  <div class="package-container">
    <div 
      class="package-card" 
      *ngFor="let package of packages; let i = index" 
      [hidden]="!showMore && i >= 4"
    >
      <!-- Package Image Slider -->
      <div class="package-slider">
        <img 
          [src]="package.images[activeIndex[i] || 0]" 
          alt="{{ package.name }}" 
          class="package-image"
        />
        <button (click)="prevImage(i)" class="slider-button prev">&#10094;</button>
        <button (click)="nextImage(i)" class="slider-button next">&#10095;</button>
      </div>

      <!-- Package Information -->
      <h3 class="package-title">{{ package.name }}</h3>
      <p><strong>Price:</strong> {{ package.price | currency }}</p>
      <p><strong>Type:</strong> {{ package.type }}</p>
      <p><strong>Amenities:</strong> {{ package.amenities.join(', ') }}</p>

      <!-- Read More Toggle -->
      <button (click)="toggleDetails(i)" class="read-more-button">
        {{ package.showDetails ? 'Read Less' : 'Read More' }}
      </button>

      <!-- Package Details -->
      <div *ngIf="package.showDetails">
        <p>{{ package.details }}</p>
      </div>

      <!-- Book Now Button -->
      <button (click)="onBookNow(package)" class="book-now-button">Book Now</button>
    </div>
  </div>

  <!-- Load More/Load Less Buttons -->
  <div class="load-buttons">
    <button *ngIf="!showMore" (click)="loadMore()">Load More</button>
    <button *ngIf="showMore" (click)="loadLess()">Load Less</button>
  </div>
</div>

<!-- Booking Modal -->
<div class="booking-form" *ngIf="showModal">
  <h2>Booking Information for {{ selectedPackage?.name }}</h2>
  <form (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Your Name</label>
      <input 
        type="text" 
        [(ngModel)]="name" 
        name="name" 
        placeholder="Your Name" 
        required 
        class="form-control"
      />
    </div>
    <div class="form-group">
      <label>Check-In Date</label>
      <input 
        type="date" 
        [(ngModel)]="checkIn" 
        name="checkIn" 
        required 
        class="form-control"
      />
    </div>
    <div class="form-group">
      <label>Check-Out Date</label>
      <input 
        type="date" 
        [(ngModel)]="checkOut" 
        name="checkOut" 
        required 
        class="form-control"
      />
    </div>

    <!-- Payment Method -->
    <div class="form-group">
      <label>Payment Method</label>
      <select 
        [(ngModel)]="paymentMethod" 
        name="paymentMethod" 
        required 
        class="form-control"
      >
        <option value="">Select Payment Method</option>
        <option value="Credit Card">Credit Card</option>
        <option value="Paytm">Paytm</option>
      </select>
    </div>

    <button type="submit" class="payment-button">Book Now</button>
  </form>
  <button (click)="closeModal()" class="close-modal-button">Close</button>
</div>

<div *ngIf="showModal" class="overlay"></div>
